import{_ as H}from"./ModalWarning.vue.675ccd76.js";import{_ as W}from"./InputProfile.vue.8ae544ab.js";import{_ as j}from"./LabelProfile.vue.2af0f154.js";import{_ as q}from"./Radio.170e0cc1.js";import{k as V,F as v,G as k,a as x,H as n,R as d,Y as U,I as e,u as p,V as r,Q as T,U as b,_ as D,f as B,a4 as M,a3 as R,a5 as z,a0 as G,a1 as Q,l as Y,Z}from"./swiper-vue.c8cb2f00.js";import{_ as J}from"./disposables.60fc7ce5.js";import{_ as K}from"./ModalTitle.vue.2f0728f3.js";import{f as S,e as I,_ as X,a as ee,n as L,g as E}from"./entry.c96ea7b3.js";import{_ as F}from"./CurrencyText.b0ebec06.js";import te from"./Cross.1d33b40e.js";import{_ as ne,a as oe}from"./ButtonOpacityEdit.9259a499.js";import{a as se,b as ae,c as ie}from"./Table.vue.b856a3a4.js";import{_ as le}from"./TransitionTableCell.vue.00537cc3.js";import{_ as re}from"./ButtonOpacityDelete.976d9dfb.js";import{u as A}from"./useDate.d306248e.js";import{c as ce}from"./cn.a642df04.js";import{_ as pe}from"./ProfilePage.vue.82f3a9f1.js";import{u as me}from"./useSorting.9414d803.js";import"./Modal.vue.b1984bec.js";import"./ui.config.a43d3c0d.js";import"./tw-merge.84b2a5e2.js";import"./uid.12f507af.js";import"./useFormGroup.1bfd3ee2.js";import"./index.fe933732.js";import"./ButtonOpacity.f518d4a2.js";import"./nuxt-link.5c40ffd7.js";import"./Header2.b011104a.js";import"./nuxt-icon.4f438bac.js";import"./Edit.681506ce.js";import"./ArrowTop.959d45e0.js";import"./ArrowRight.518821ad.js";import"./ButtonText.6f805a11.js";import"./CrossInCircle.5c212f9f.js";import"./Search.6c7bbd58.js";import"./Delete.80a67503.js";const _e=V({__name:"Radio",props:{ui:{}},setup(w){return(a,i)=>{const f=q;return v(),k(f,{class:"ui_radio",ui:{wrapper:"items-center",border:"!border-black",background:"bg-transparent",color:"!text-transparent",label:"font-medium text-[12px] md:text-[14px]",...a.ui}},null,8,["ui"])}}});const ue=["onSubmit"],de={class:"flex flex-col pt-[15px] xl:pt-[20px]"},fe={class:"flex items-center gap-[20px] pt-[10px]"},xe=V({__name:"ModalAddCashier",emits:["successAction"],setup(w,{emit:a}){const i=x({name:"",type:""}),f=a,o=()=>{f("successAction")},m=()=>{S(`${I()}/add_cashier`,{body:{name:i.value.name,type:i.value.type}}).then(l=>{l.message&&o()})};return(l,u)=>{const h=W,_=j,s=_e,t=J,c=K;return v(),k(c,{ui:{width:"!max-w-[414px]"},title:"Додати касу"},{default:n(()=>[d("form",{action:"#",onSubmit:U(m,["prevent"])},[d("div",de,[e(_,{label:"Введіть назву:"},{default:n(()=>[e(h,{required:"",modelValue:p(i).name,"onUpdate:modelValue":u[0]||(u[0]=g=>p(i).name=g)},null,8,["modelValue"])]),_:1}),e(_,{class:"pt-[15px] xl:pt-[20px]",label:"Оберіть категорію:"},{default:n(()=>[d("div",fe,[e(s,{modelValue:p(i).type,"onUpdate:modelValue":u[1]||(u[1]=g=>p(i).type=g),value:"Готівкова",label:"Готівкова"},null,8,["modelValue"]),e(s,{modelValue:p(i).type,"onUpdate:modelValue":u[2]||(u[2]=g=>p(i).type=g),value:"Безготівкова",label:"Безготівкова"},null,8,["modelValue"])])]),_:1}),e(t,{type:"submit",class:"mt-[20px] xl:mt-[30px] self-center w-fit"},{default:n(()=>[r("Зберегти")]),_:1})])],40,ue)]),_:1})}}}),he={class:"bg-beige rounded-[10px] w-full p-[15px] pr-[40px] opacity-60 xl:pr-[52px] lg:px-[20px] text-black"},be={class:"text-[11px] text-black font-medium md:text-[12px] xl:text-[15px]"},ve={class:"text-[22px] mt-[8px] xl:nt-[10px] md:text-[27px] xl:text-[30px] font-semibold"},ge={class:"mt-[12px] xl:mt-[15px] grid grid-cols-2 gap-y-[5px]"},we=d("p",{class:"text-[7px] md:text-[10px]"},"Доходи",-1),ye=d("p",{class:"text-[7px] md:text-[10px]"},"Витрати",-1),Ce={class:"text-[7px] md:text-[10px] flex items-center gap-[5px]"},$e=d("span",{class:"w-[4px] inline-block h-[4px] rounded-[50%] bg-[#8ED400]"},null,-1),ke={class:"text-[7px] md:text-[10px] flex items-center gap-[5px]"},Ve=d("span",{class:"w-[4px] inline-block h-[4px] rounded-[50%] bg-[#E33629]"},null,-1),Te=V({__name:"CashierItem",props:{allCashiers:{type:Boolean},cashier:{}},setup(w){return(a,i)=>{var o,m,l,u,h;const f=F;return v(),T("div",he,[d("p",be,b((o=a.cashier)==null?void 0:o.name),1),d("p",{class:D(["text-[7px] md:text-[10px] mt-[5px]",{"opacity-0":a.allCashiers}])},b((m=a.cashier)==null?void 0:m.type),3),d("p",ve,[r(b((l=a.cashier)==null?void 0:l.balance),1),e(f)]),d("div",ge,[we,ye,d("p",Ce,[$e,r(" "+b((u=a.cashier)==null?void 0:u.incomes)+" ",1),e(f)]),d("p",ke,[Ve,r(" "+b((h=a.cashier)==null?void 0:h.expenses)+" ",1),e(f)])])])}}}),Se={},Ie={class:"bg-beige w-full rounded-[10px] flex flex-col items-center justify-center gap-[5px] self-stretch opacity-60 text-black"},Pe=d("p",{class:"text-[11px] text-black font-medium md:text-[12px] xl:text-[15px]"}," Додати касу ",-1);function Ue(w,a){const i=te;return v(),T("button",Ie,[e(i,{class:"!w-[21px] !h-[21px] xl:!w-[31px] xl:!h-[31px] stroke-beige-2"}),Pe])}const Ae=X(Se,[["render",Ue]]),De={class:"mb-[25px] xl:mb-[31px]"},Be=V({__name:"CashierList",setup(w){const a=x([]),i=x(0),f=x(0),o=x(0),m=x(!1),l=_=>{m.value=_},u=()=>{S(`${I()}/cashiers`).then(_=>{console.log(_),a.value=_.cashiers,i.value=_.totalBalance,f.value=_.total_expenses,o.value=_.total_incomes})},h=()=>{l(!1),u()};return u(),(_,s)=>{const t=xe,c=Te,g=G,P=Ae,y=Q;return v(),T("div",De,[e(t,{onSuccessAction:h,modelValue:p(m),"onUpdate:modelValue":s[0]||(s[0]=C=>B(m)?m.value=C:null)},null,8,["modelValue"]),e(y,{class:"swiper_cashiers w-full",modules:["SwiperFreeMode"in _?_.SwiperFreeMode:p(z)],spaceBetween:30,slidesPerView:"auto",breakpoints:{320:{slidesPerView:2},576:{slidesPerView:3},992:{slidesPerView:2},1100:{slidesPerView:3},1200:{slidesPerView:4},1400:{slidesPerView:5},1600:{slidesPerView:6},1800:{slidesPerView:7}}},{default:n(()=>[e(g,{class:"!h-auto"},{default:n(()=>[e(c,{class:"border-beige-1 border-[2px] h-full !opacity-100",allCashiers:"",cashier:{balance:p(i),expenses:p(f),incomes:p(o),name:"Всі каси",type:"Готівкова"}},null,8,["cashier"])]),_:1}),(v(!0),T(M,null,R(p(a),C=>(v(),k(g,{key:C._id,class:"!h-auto"},{default:n(()=>[e(c,{class:"border-beige-1 h-full border-[2px] !opacity-100",cashier:C},null,8,["cashier"])]),_:2},1024))),128)),e(g,{class:"!h-auto"},{default:n(()=>[e(P,{onClick:s[1]||(s[1]=C=>l(!0)),class:"h-full"})]),_:1})]),_:1},8,["modules"])])}}}),Me={class:"max-w-[200px] w-full inline-block truncate"},Re={class:"font-medium leading-[130%] max-w-[200px] inline-block truncate"},Le={class:"inline-block max-w-[120px] truncate"},Ee=V({__name:"TableItemTransaction",props:{transaction:{}},emits:["deleteAction"],setup(w,{emit:a}){const i=a,f=()=>{i("deleteAction")};return ee(),(o,m)=>{const l=le,u=F,h=ne,_=re,s=se;return v(),k(s,null,{header:n(()=>[d("span",Me,b(("useDate"in o?o.useDate:p(A))(o.transaction.date)),1)]),elements:n(({active:t})=>[e(l,{vIf:t},{title:n(()=>[r("Дата ")]),value:n(()=>[d("span",Re,b(("useDate"in o?o.useDate:p(A))(o.transaction.date)),1)]),_:2},1032,["vIf"]),e(l,{vIf:t},{title:n(()=>[r("Сума")]),value:n(()=>{var c;return[d("span",{class:D(("cn"in o?o.cn:p(ce))("text-[12px] md:text-[15px] font-medium",{"text-[#8ED400]":String(o.transaction.sum)[0]!=="-","text-[#E33629]":String(o.transaction.sum)[0]==="-"}))},[r(b((c=o.transaction)==null?void 0:c.sum),1),e(u)],2)]}),_:2},1032,["vIf"]),e(l,{vIf:t},{title:n(()=>[r("Контрагент")]),value:n(()=>{var c;return[r(b((c=o.transaction)==null?void 0:c.counterpartie),1)]}),_:2},1032,["vIf"]),e(l,{vIf:t},{title:n(()=>[r("Залишок у касі")]),value:n(()=>{var c;return[r(b((c=o.transaction)==null?void 0:c.total_left),1)]}),_:2},1032,["vIf"]),e(l,{vIf:t},{title:n(()=>[r("Каса")]),value:n(()=>{var c;return[r(b((c=o.transaction)==null?void 0:c.cashier)+" замовлень",1)]}),_:2},1032,["vIf"]),e(l,{vIf:t},{title:n(()=>[r("Коментар ")]),value:n(()=>[d("span",Le,b(o.transaction.comment),1)]),_:2},1032,["vIf"])]),"additional-buttons":n(()=>[e(h,{class:"flex-shrink-0",onClick:m[0]||(m[0]=U(t=>("navigateTo"in o?o.navigateTo:p(L))("/profile/edit_transaction/"+o.transaction._id),["stop"]))}),e(_,{class:"flex-shrink-0",onClick:U(f,["stop"])},null,8,["onClick"])]),_:1})}}}),Fe=E("testStore",()=>({finance:x([{_id:1,date:new Date,amount:"+3675₴",counterparty:"Кузьменко А.",cash_balance:"Замовлення",cash_desk:"45800₴",comment:"Lorem ipsum dolor sit amet, consectetur adipisci elit"},{_id:3,date:new Date,amount:"-3675₴",counterparty:"Кузьменко А.",cash_balance:"Замовлення",cash_desk:"45800₴",comment:"Lorem ipsum dolor sit amet, consectetur adipisci elit"},{_id:2,date:new Date,amount:"+3675₴",counterparty:"Кузьменко А.",cash_balance:"Замовлення",cash_desk:"45800₴",comment:"Lorem ipsum dolor sit amet, consectetur adipisci elit"}])})),Ne=E("financeStore",()=>{const w=x([]),a=x(1),i=x(""),f=x(1),o=x(""),m=x(!1),l=t=>{me(t,m,o,s)};function u(t){i.value=t,s()}function h(t){if(t===0)return!1;a.value=t,s()}function _(t){console.log(t),S(`${I()}/transactions`,{body:{transaction_id:t}}).then(c=>{c.message===!0&&s()})}function s(){S(`${I()}/transactions`,{body:{page:a.value,per_page:10,keyword:i.value,sort_by:o.value,reverse_sort:m.value}}).then(t=>{console.log(t),w.value=t.transactions,f.value=t.total_pages}).catch(t=>{console.error(t)})}return{fetchTransactions:s,searchTransactions:u,deleteTransactions:_,setPage:h,transactions:w,endPage:f,keyWord:i,page:a,setSorting:l,sorting:o,reverseSorting:m}}),Ct=V({__name:"finance",setup(w){Fe();const a=Ne(),i=Y(()=>a.transactions),f=()=>{a.fetchTransactions()},o=s=>a.searchTransactions(s),m=x(""),l=x(!1),u=s=>{_(s),h(!0)},h=s=>{l.value=s},_=s=>{m.value=s};return f(),(s,t)=>{const c=H,g=Be,P=oe,y=ae,C=Ee,N=ie,O=pe;return v(),k(O,{title:"Фінанси"},{content:n(()=>[p(m)?(v(),k(c,{key:0,modelValue:p(l),"onUpdate:modelValue":t[0]||(t[0]=$=>B(l)?l.value=$:null),onCloseModal:t[1]||(t[1]=$=>h(!1))},{default:n(()=>[r("Ви впевнені, що хочете видалити транзакцію?")]),_:1},8,["modelValue"])):Z("",!0),e(g),e(P,{onSearch:o,onAdd:t[2]||(t[2]=$=>("navigateTo"in s?s.navigateTo:p(L))("new_transaction"))},{add_name:n(()=>[r(" Додати транзакцію")]),_:1}),e(N,null,{headers:n(()=>[e(y,null,{default:n(()=>[r(" Дата ")]),_:1}),e(y,null,{default:n(()=>[r("Сума")]),_:1}),e(y,null,{default:n(()=>[r(" Контрагент ")]),_:1}),e(y,null,{default:n(()=>[r("Залишок у касі")]),_:1}),e(y,null,{default:n(()=>[r("Каса")]),_:1}),e(y,null,{default:n(()=>[r("Коментар")]),_:1})]),items:n(()=>[(v(!0),T(M,null,R(p(i),$=>(v(),k(C,{key:$._id,transaction:$,onDeleteAction:Oe=>u($._id)},null,8,["transaction","onDeleteAction"]))),128))]),_:1})]),_:1})}}});export{Ct as default};
