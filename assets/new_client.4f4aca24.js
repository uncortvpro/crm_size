import{_ as S}from"./disposables.4eaf8828.js";import{_ as U}from"./AlertDanger.510a88a3.js";import{_ as w}from"./AlertSuccess.fc78d3fa.js";import{b as A}from"./Client.vue.ea93b82a.js";import{_ as B}from"./ProfilePage.vue.01e67bf4.js";import{f as D,i as s,h as N,R as V,o as c,j as i,w as n,b as u,d as r,l as o,t as _,m as f,a as I,M as P,v as T}from"./entry.a2f787e0.js";import"./ButtonOpacity.63864f94.js";import"./TextPrimary.a6e80bb1.js";import"./nuxt-link.bc5ebee5.js";import"./useFormGroup.72f872bd.js";import"./index.37b4ade9.js";import"./ui.config.6c2cf79b.js";import"./index.7705a307.js";import"./Calendar.6e26c6ff.js";import"./nuxt-icon.784d3929.js";import"./Photo.90ff3cfe.js";import"./User.2f3faec4.js";const $={class:"flex justify-center"},ee=D({__name:"new_client",setup(j){const e=s({}),m=s();N();const p=s(""),l=s(""),v=()=>{const a=localStorage.getItem("token"),t=new FormData;t.append("additional_phone",e.value.additional_phone),t.append("email",e.value.email),t.append("gender",e.value.gender),t.append("birthday",e.value.birthday),t.append("instagram",e.value.instagram),t.append("telegram",e.value.telegram),t.append("comment",e.value.comment),t.append("status",e.value.status),t.append("userpic",e.value.userpic),t.append("phone",e.value.phone),t.append("name",e.value.name),t.append("access_token",a||""),m.value=t},h=(a,t)=>{e.value[t]=a},g=a=>{if(a==="Client already exists")return p.value="Клієнт вже існує",!1;if(a==="Client created successfully")return l.value="Клієнта успішно створено",e.value={},!1},y=()=>{v(),P(`${T()}/add_client`,{method:"POST",body:m.value}).then(a=>{g(a.message)}).catch(a=>{console.log(a)})};return V(()=>e.value,()=>{console.log(e.value)},{deep:!0}),(a,t)=>{const d=S,k=U,x=w,C=A,b=B;return c(),i(b,{title:"Додати клієнта"},{header:n(()=>[u(d,{onClick:y,class:"hidden lg:block"},{default:n(()=>[r(" Створити ")]),_:1})]),content:n(()=>[o(p)?(c(),i(k,{key:0},{default:n(()=>[r(_(o(p)),1)]),_:1})):f("",!0),o(l)?(c(),i(x,{key:1},{default:n(()=>[r(_(o(l)),1)]),_:1})):f("",!0),u(C,{inputs:o(e),labelStatus:"Статус клієнта:",onUpdateInputs:h},null,8,["inputs"]),I("div",$,[u(d,{disabled:"",class:"lg:hidden"},{default:n(()=>[r(" Створити ")]),_:1})])]),_:1})}}});export{ee as default};
