import{u as O,_ as F}from"./RemoveClient.vue.4968329d.js";import{_ as H,a as L}from"./ButtonOpacityEdit.3034c940.js";import{_ as G}from"./ButtonSortingTable.vue.a09ce3c5.js";import{_ as Q,a as Y,b as j,c as q}from"./Table.vue.12d954a7.js";import{_ as z}from"./TransitionTableCell.vue.2e20e9d4.js";import{_ as J}from"./CurrencyText.68eccced.js";import{_ as K}from"./StatusOutput.vue.adf6d45a.js";import{_ as W}from"./ButtonOpacityDelete.3ca8558b.js";import{k as R,F as k,G as D,H as t,R as P,U as p,I as e,V as n,Y as h,u as l,a as B,l as C,f as X,Q as Z,a1 as tt,a0 as et}from"./swiper-vue.df2f0745.js";import{a as nt,n as V}from"./entry.9837a20a.js";import{_ as ot}from"./ProfilePage.vue.91b7bb0f.js";import"./ModalWarning.vue.a486b9b2.js";import"./ButtonOpacityBorder.503958f2.js";import"./ButtonOpacity.8fd52cb5.js";import"./Button.vue.38cd8abf.js";import"./nuxt-link.21791279.js";import"./Modal.vue.24fa8f69.js";import"./ui.config.ed65c54b.js";import"./useSorting.9908e62e.js";import"./ButtonOpacityBorderAddItem.f3aa5c64.js";import"./CrossInCircle.a0bf07aa.js";import"./nuxt-icon.91f9f1b8.js";import"./SearchBorder.vue.71d0fe05.js";import"./Search.d9618135.js";import"./cn.a642df04.js";import"./Edit.5133b32e.js";import"./ArrowRight.63b5977e.js";import"./ButtonText.60071046.js";import"./ArrowTop.fb31f4a4.js";import"./index.14c8fbbe.js";import"./index.7fa93687.js";import"./Delete.6d225995.js";const lt={class:"max-w-[200px] w-full inline-block truncate"},st={class:"font-medium leading-[130%] max-w-[200px] inline-block truncate"},at=R({__name:"TableItemClients",props:{client:{}},emits:["deleteAction"],setup(y,{emit:r}){const g=r,I=()=>{g("deleteAction")};return nt(),(a,T)=>{const m=z,w=J,U=K,b=Q,u=H,f=W,v=Y;return k(),D(v,null,{header:t(()=>{var s;return[P("span",lt,p((s=a.client)==null?void 0:s.name),1)]}),elements:t(({active:s})=>[e(m,{vIf:s},{title:t(()=>[n("Ім’я")]),value:t(()=>{var o;return[P("span",st,p((o=a.client)==null?void 0:o.name),1)]}),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Номер телефону")]),value:t(()=>{var o;return[n(p((o=a.client)==null?void 0:o.phone),1)]}),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Email")]),value:t(()=>{var o;return[n(p((o=a.client)==null?void 0:o.email),1)]}),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Instagram")]),value:t(()=>{var o;return[n(p((o=a.client)==null?void 0:o.instagram),1)]}),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Історія покупок ")]),value:t(()=>[n(p(a.client.orders.length)+" замовлень",1)]),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Тотал сума покупок ")]),value:t(()=>{var o;return[n(p((o=a.client)==null?void 0:o.total_price_sum),1),e(w)]}),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Дата останньої покупки")]),value:t(()=>{var o;return[n(p((o=a.client)==null?void 0:o.latest_order_date),1)]}),_:2},1032,["vIf"]),e(m,{vIf:s},{title:t(()=>[n("Статус")]),value:t(()=>[e(U,{color:a.client.status.colour},{default:t(()=>{var o,$;return[n(p(($=(o=a.client)==null?void 0:o.status)==null?void 0:$.status),1)]}),_:1},8,["color"])]),_:2},1032,["vIf"]),e(m,{vIf:s,class:"3xl:hidden col-span-2"},{title:t(()=>[e(b,null,{default:t(()=>[n("Детальніше")]),_:1})]),_:2},1032,["vIf"])]),"additional-buttons":t(()=>[e(u,{class:"flex-shrink-0",onClick:T[0]||(T[0]=h(s=>("navigateTo"in a?a.navigateTo:l(V))("/profile/edit_client/"+a.client._id),["stop"]))}),e(f,{class:"flex-shrink-0",onClick:h(I,["stop"])},null,8,["onClick"])]),_:1})}}}),Ft=R({__name:"clients",setup(y){const r=O(),g=B(!1),I=B(""),a=C(()=>r.clients),T=C(()=>r.page),m=C(()=>r.endPage),w=()=>r.fetchClients(),U=i=>r.setPage(i),b=i=>r.searchClients(i),u=C(()=>r.sorting),f=C(()=>r.reverseSorting),v=i=>{r.setSorting(i)},s=i=>{g.value=i},o=i=>{I.value=i},$=i=>{o(i),s(!0)};return w(),(i,_)=>{const A=F,x=L,S=G,d=j,E=at,M=q,N=ot;return k(),D(N,{title:"Клієнти"},{content:t(()=>[P("div",null,[e(A,{modelValue:l(g),"onUpdate:modelValue":_[0]||(_[0]=c=>X(g)?g.value=c:null),clientId:l(I),onSwitchModal:s},null,8,["modelValue","clientId"]),e(x,{onAdd:_[1]||(_[1]=c=>("navigateTo"in i?i.navigateTo:l(V))("new_client")),onSearch:b},{add_name:t(()=>[n(" Додати клієнта ")]),_:1}),e(M,{pageTable:l(T),endPage:l(m),onSetPage:U},{headers:t(()=>[e(d,null,{default:t(()=>[e(S,{sortingUp:l(u)==="name"&&l(f),sortingDown:l(u)==="name"&&!l(f),onClick:_[2]||(_[2]=c=>v("name")),class:"!font-normal"},{default:t(()=>[n(" Ім’я")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),e(d,null,{default:t(()=>[n("Номер телефону")]),_:1}),e(d,null,{default:t(()=>[n("Email")]),_:1}),e(d,null,{default:t(()=>[n("Instagram")]),_:1}),e(d,null,{default:t(()=>[n("Історія покупок ")]),_:1}),e(d,null,{default:t(()=>[e(S,{sortingUp:l(u)==="total_price_sum"&&l(f),sortingDown:l(u)==="total_price_sum"&&!l(f),onClick:_[3]||(_[3]=c=>v("total_price_sum")),class:"!font-normal"},{default:t(()=>[n(" Тотал сума покупок")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),e(d,null,{default:t(()=>[e(S,{sortingUp:l(u)==="latest_order_date"&&l(f),sortingDown:l(u)==="latest_order_date"&&!l(f),onClick:_[4]||(_[4]=c=>v("latest_order_date")),class:"!font-normal"},{default:t(()=>[n(" Дата останньої покупки")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),e(d,null,{default:t(()=>[n("Статус")]),_:1})]),items:t(()=>[(k(!0),Z(et,null,tt(l(a),c=>(k(),D(E,{key:c._id,client:c,onDeleteAction:it=>$(c._id)},null,8,["client","onDeleteAction"]))),128))]),_:1},8,["pageTable","endPage"])])]),_:1})}}});export{Ft as default};
