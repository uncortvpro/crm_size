import{_ as b}from"./ButtonOpacityBorder.18ad5ddd.js";import{_ as B}from"./AlertDanger.e125c8fe.js";import{_ as U}from"./AlertSuccess.e4b9d8d5.js";import{q as A}from"./Client.vue.4c07e9e3.js";import{_ as w}from"./ProfilePage.vue.da5c8fc5.js";import{f as D,i as s,h as I,o as c,j as i,w as n,b as m,d as r,l as o,t as _,m as f,a as N,Q as P,R as V}from"./entry.275c8624.js";import"./ButtonOpacity.bbf47672.js";import"./TextPrimary.73932b60.js";import"./nuxt-link.3fbfb4c3.js";import"./ui.config.f23a23c5.js";import"./index.627d1257.js";import"./index.f8b3b006.js";import"./Calendar.d2cbc395.js";import"./nuxt-icon.7be800a3.js";import"./Photo.5639bb38.js";import"./User.c69a07e9.js";const T={class:"flex justify-center"},Y=D({__name:"new_client",setup($){const e=s({}),u=s();I();const p=s(""),l=s(""),h=()=>{const a=localStorage.getItem("token"),t=new FormData;t.append("additional_phone",e.value.secondPhone),t.append("email",e.value.email),t.append("gender",e.value.gender),t.append("birthday",e.value.dateBirth),t.append("instagram",e.value.instagram),t.append("telegram",e.value.telegram),t.append("comment",e.value.comment),t.append("status",e.value.status),t.append("userpic",e.value.photo),t.append("phone",e.value.phone),t.append("name",e.value.name),t.append("access_token",a||""),u.value=t},v=a=>{e.value=a},g=a=>{if(a==="Client already exists")return p.value="Клієнт вже існує",!1;if(a==="Client created successfully")return l.value="Клієнта успішно створено",e.value={},!1},y=()=>{localStorage.getItem("token"),h(),P(`${V()}/add_client`,{method:"POST",body:u.value}).then(a=>{g(a.message)}).catch(a=>{console.log(a)})};return(a,t)=>{const d=b,k=B,x=U,C=A,S=w;return c(),i(S,{title:"Додати клієнта"},{header:n(()=>[m(d,{onClick:y,class:"hidden lg:block"},{default:n(()=>[r(" Створити ")]),_:1})]),content:n(()=>[o(p)?(c(),i(k,{key:0},{default:n(()=>[r(_(o(p)),1)]),_:1})):f("",!0),o(l)?(c(),i(x,{key:1},{default:n(()=>[r(_(o(l)),1)]),_:1})):f("",!0),m(C,{inputs:o(e),labelStatus:"Статус клієнта:",onUpdateInputs:v},null,8,["inputs"]),N("div",T,[m(d,{disabled:"",class:"lg:hidden"},{default:n(()=>[r(" Створити ")]),_:1})])]),_:1})}}});export{Y as default};
