import{_ as K}from"./ModalWarning.vue.cae795ce.js";import{_ as X}from"./ModalAddCashier.vue.fa97d106.js";import{_ as ee}from"./ButtonOpacity.7a6728f2.js";import{_ as F}from"./CurrencyText.00226054.js";import{f as N,e as R,_ as te,a as se,n as L}from"./entry.0fc0c82e.js";import{c as O}from"./cn.a642df04.js";import{k as U,F as g,Q as V,G as S,H as e,Z as H,R as c,U as f,_ as B,V as a,I as t,u as n,a as $,f as j,a2 as z,a3 as G,a6 as ne,a0 as oe,a1 as ae,Y as M,l as I}from"./swiper-vue.36f73e51.js";import ie from"./Cross.f745cfb3.js";import{_ as le,a as re}from"./ButtonOpacityEdit.b52542ee.js";import{_ as ce}from"./ButtonSortingTable.vue.7ded8468.js";import{a as pe,b as me,c as _e}from"./Table.vue.3c118e84.js";import{_ as ue}from"./TransitionTableCell.vue.c304fabd.js";import{_ as de}from"./ButtonOpacityDelete.746dbed1.js";import{u as E}from"./useDate.d306248e.js";import{_ as fe}from"./ProfilePage.vue.644be210.js";import{u as xe}from"./financeStore.945479af.js";import"./Modal.vue.3dc3c055.js";import"./ui.config.1da60734.js";import"./ModalTitle.vue.430bc7cc.js";import"./Header2.1431a63d.js";import"./LabelProfile.vue.3ad4914f.js";import"./Radio.08813d01.js";import"./tw-merge.5a7c0b21.js";import"./uid.12f507af.js";import"./useFormGroup.e5e40c3f.js";import"./Button.vue.e58ade20.js";import"./nuxt-link.b5742774.js";import"./nuxt-icon.2859c15b.js";import"./ButtonOpacityBorderAddItem.eb0ac8d7.js";import"./CrossInCircle.23b38782.js";import"./Edit.e382c08b.js";import"./ArrowRight.1d58d019.js";import"./ButtonText.38b19505.js";import"./ArrowTop.3f4cb32b.js";import"./Search.fbfe7c01.js";import"./Delete.11b2a582.js";import"./useSorting.9414d803.js";const he=c("span",{class:"w-full h-[1px] md:h-[2px] bg-beige-2 block rotate-[45deg] absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]"},null,-1),ge=c("span",{class:"w-full h-[1px] md:h-[2px] bg-beige-2 block rotate-[-45deg] absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]"},null,-1),ve={class:"text-[11px] text-black font-medium md:text-[12px] xl:text-[15px]"},be={class:"text-[22px] mt-[8px] xl:nt-[10px] md:text-[27px] xl:text-[30px] font-semibold"},we={class:"mt-[12px] xl:mt-[15px] grid grid-cols-2 gap-y-[5px]"},Ce=c("p",{class:"text-[7px] md:text-[10px]"},"Доходи",-1),ke=c("p",{class:"text-[7px] md:text-[10px]"},"Витрати",-1),$e={class:"text-[7px] md:text-[10px] flex items-center gap-[5px]"},ye=c("span",{class:"w-[4px] inline-block h-[4px] rounded-[50%] bg-[#8ED400]"},null,-1),Te={class:"text-[7px] md:text-[10px] flex items-center gap-[5px]"},Se=c("span",{class:"w-[4px] inline-block h-[4px] rounded-[50%] bg-[#E33629]"},null,-1),De=U({__name:"CashierItem",props:{allCashiers:{type:Boolean},cashier:{}},emits:["successDelete"],setup(D,{emit:l}){const v=D,C=l,o=()=>{C("successDelete")},x=()=>{N(`${R()}/delete_cashier`,{body:{cashier_id:v.cashier._id}}).then(s=>{s.message&&o()})};return(s,_)=>{var u,p,i,h,y;const w=ee,r=F;return g(),V("div",{class:B(("cn"in s?s.cn:n(O))("bg-beige relative group rounded-[10px] w-full p-[15px] hover:opacity-100 duration-hover pr-[40px] opacity-60 xl:pr-[52px] lg:px-[20px] text-black",{"opacity-60":!s.allCashiers}))},[s.allCashiers?H("",!0):(g(),S(w,{key:0,onClick:x,class:"absolute is-hover:opacity-0 group-hover:opacity-100 duration-hover w-[14px] h-[14px] right-[10%]"},{default:e(()=>[he,ge]),_:1})),c("p",ve,f((u=s.cashier)==null?void 0:u.name),1),c("p",{class:B(["text-[7px] md:text-[10px] mt-[5px]",{"opacity-0":s.allCashiers}])},f((p=s.cashier)==null?void 0:p.type),3),c("p",be,[a(f((i=s.cashier)==null?void 0:i.balance),1),t(r)]),c("div",we,[Ce,ke,c("p",$e,[ye,a(" "+f((h=s.cashier)==null?void 0:h.incomes)+" ",1),t(r)]),c("p",Te,[Se,a(" "+f((y=s.cashier)==null?void 0:y.expenses)+" ",1),t(r)])])],2)}}}),Pe={},Ie={class:"bg-beige w-full rounded-[10px] flex flex-col items-center justify-center gap-[5px] self-stretch opacity-60 text-black"},Ve=c("p",{class:"text-[11px] text-black font-medium md:text-[12px] xl:text-[15px]"}," Додати касу ",-1);function Ue(D,l){const v=ie;return g(),V("button",Ie,[t(v,{class:"!w-[21px] !h-[21px] xl:!w-[31px] xl:!h-[31px] stroke-beige-2"}),Ve])}const Ae=te(Pe,[["render",Ue]]),Be={class:"mb-[25px] xl:mb-[31px]"},Me=U({__name:"CashierList",setup(D){const l=$([]),v=$(0),C=$(0),o=$(0),x=$(!1),s=r=>{x.value=r},_=()=>{N(`${R()}/cashiers`).then(r=>{console.log(r),l.value=r.cashiers,v.value=r.total_balance,C.value=r.total_expenses,o.value=r.total_incomes})},w=()=>{s(!1),_()};return _(),(r,u)=>{const p=X,i=De,h=oe,y=Ae,P=ae;return g(),V("div",Be,[t(p,{onSuccessAction:w,modelValue:n(x),"onUpdate:modelValue":u[0]||(u[0]=k=>j(x)?x.value=k:null)},null,8,["modelValue"]),t(P,{class:"swiper_cashiers w-full",modules:["SwiperFreeMode"in r?r.SwiperFreeMode:n(ne)],spaceBetween:30,slidesPerView:"auto",breakpoints:{320:{slidesPerView:2},576:{slidesPerView:3},992:{slidesPerView:2},1100:{slidesPerView:3},1200:{slidesPerView:4},1400:{slidesPerView:5},1600:{slidesPerView:6},1800:{slidesPerView:7}}},{default:e(()=>[t(h,{class:"!h-auto"},{default:e(()=>[t(i,{class:"border-beige-1 border-[2px] h-full !opacity-100",allCashiers:"",cashier:{balance:n(v),expenses:n(C),incomes:n(o),name:"Всі каси",type:"Готівкова"}},null,8,["cashier"])]),_:1}),(g(!0),V(z,null,G(n(l),k=>(g(),S(h,{key:k._id,class:"!h-auto"},{default:e(()=>[t(i,{onSuccessDelete:_,class:"h-full",cashier:k},null,8,["cashier"])]),_:2},1024))),128)),t(h,{class:"!h-auto"},{default:e(()=>[t(y,{onClick:u[1]||(u[1]=k=>s(!0)),class:"h-full"})]),_:1})]),_:1},8,["modules"])])}}}),Ee={class:"max-w-[200px] w-full inline-block truncate"},Fe={class:"font-medium leading-[130%] max-w-[200px] inline-block truncate"},Ne={class:"inline-block max-w-[120px] truncate"},Re=U({__name:"TableItemTransaction",props:{transaction:{}},emits:["deleteAction"],setup(D,{emit:l}){const v=l,C=()=>{v("deleteAction")};return se(),(o,x)=>{const s=ue,_=F,w=le,r=de,u=pe;return g(),S(u,null,{header:e(()=>[c("span",Ee,f(("useDate"in o?o.useDate:n(E))(o.transaction.date)),1)]),elements:e(({active:p})=>[t(s,{vIf:p},{title:e(()=>[a("Дата ")]),value:e(()=>[c("span",Fe,f(("useDate"in o?o.useDate:n(E))(o.transaction.date)),1)]),_:2},1032,["vIf"]),t(s,{vIf:p},{title:e(()=>[a("Сума")]),value:e(()=>{var i;return[c("span",{class:B(("cn"in o?o.cn:n(O))("text-[12px] md:text-[15px] font-medium",{"text-[#8ED400]":String(o.transaction.sum)[0]!=="-","text-[#E33629]":String(o.transaction.sum)[0]==="-"}))},[a(f((i=o.transaction)==null?void 0:i.sum),1),t(_)],2)]}),_:2},1032,["vIf"]),t(s,{vIf:p},{title:e(()=>[a("Контрагент")]),value:e(()=>{var i;return[a(f((i=o.transaction)==null?void 0:i.counterpartie),1)]}),_:2},1032,["vIf"]),t(s,{vIf:p},{title:e(()=>[a("Залишок у касі")]),value:e(()=>{var i;return[a(f((i=o.transaction)==null?void 0:i.total_left),1)]}),_:2},1032,["vIf"]),t(s,{vIf:p},{title:e(()=>[a("Каса")]),value:e(()=>{var i;return[a(f((i=o.transaction)==null?void 0:i.cashier)+" замовлень",1)]}),_:2},1032,["vIf"]),t(s,{vIf:p},{title:e(()=>[a("Коментар ")]),value:e(()=>[c("span",Ne,f(o.transaction.comment),1)]),_:2},1032,["vIf"])]),"additional-buttons":e(()=>[t(w,{class:"flex-shrink-0",onClick:x[0]||(x[0]=M(p=>("navigateTo"in o?o.navigateTo:n(L))("/profile/edit_transaction/"+o.transaction._id),["stop"]))}),t(r,{class:"flex-shrink-0",onClick:M(C,["stop"])},null,8,["onClick"])]),_:1})}}}),$t=U({__name:"finance",setup(D){const l=xe(),v=I(()=>l.transactions),C=I(()=>l.page),o=I(()=>l.endPage),x=m=>l.setPage(m),s=I(()=>l.sorting),_=I(()=>l.reverseSorting),w=m=>{l.setSorting(m)},r=()=>{l.fetchTransactions()},u=$(""),p=async()=>{l.deleteTransactions(u.value),P(!1)},i=m=>l.searchTransactions(m),h=$(!1),y=m=>{k(m),P(!0)},P=m=>{h.value=m},k=m=>{u.value=m};return r(),(m,d)=>{const Q=K,W=Me,Y=re,A=ce,T=me,Z=Re,q=_e,J=fe;return g(),S(J,{title:"Фінанси"},{content:e(()=>[n(u)?(g(),S(Q,{key:0,modelValue:n(h),"onUpdate:modelValue":d[0]||(d[0]=b=>j(h)?h.value=b:null),onCloseModal:d[1]||(d[1]=b=>P(!1)),onConfirm:p},{default:e(()=>[a("Ви впевнені, що хочете видалити транзакцію?")]),_:1},8,["modelValue"])):H("",!0),t(W),t(Y,{onSearch:i,onAdd:d[2]||(d[2]=b=>("navigateTo"in m?m.navigateTo:n(L))("new_transaction"))},{add_name:e(()=>[a(" Додати транзакцію")]),_:1}),t(q,{pageTable:n(C),endPage:n(o),onSetPage:x},{headers:e(()=>[t(T,null,{default:e(()=>[t(A,{sortingUp:n(s)==="date"&&n(_),sortingDown:n(s)==="date"&&!n(_),onClick:d[3]||(d[3]=b=>w("date")),class:"!font-normal"},{default:e(()=>[a(" Дата")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),t(T,null,{default:e(()=>[t(A,{sortingUp:n(s)==="sum"&&n(_),sortingDown:n(s)==="sum"&&!n(_),onClick:d[4]||(d[4]=b=>w("sum")),class:"!font-normal"},{default:e(()=>[a(" Сума")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),t(T,null,{default:e(()=>[a(" Контрагент ")]),_:1}),t(T,null,{default:e(()=>[t(A,{sortingUp:n(s)==="total_left"&&n(_),sortingDown:n(s)==="total_left"&&!n(_),onClick:d[5]||(d[5]=b=>w("total_left")),class:"!font-normal"},{default:e(()=>[a(" Залишок у касі")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),t(T,null,{default:e(()=>[a("Каса")]),_:1}),t(T,null,{default:e(()=>[a("Коментар")]),_:1})]),items:e(()=>[(g(!0),V(z,null,G(n(v),b=>(g(),S(Z,{key:b._id,transaction:b,onDeleteAction:Le=>y(b._id)},null,8,["transaction","onDeleteAction"]))),128))]),_:1},8,["pageTable","endPage"])]),_:1})}}});export{$t as default};
