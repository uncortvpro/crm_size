import{t as A,i as W,n as E,a as b,b as p,c as w}from"./index.20cc672b.js";import{i as h,y as g,E as I,s as N,ab as S,q as M,ax as O,D as T}from"./entry.31d0978f.js";function x(r,t,e){let s;N(e)?s={evaluating:e}:s=e||{};const{lazy:n=!1,evaluating:i=void 0,shallow:a=!0,onError:c=E}=s,o=h(!n),l=a?S(t):h(t);let u=0;return I(async f=>{if(!o.value)return;u++;const d=u;let v=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const m=await r(L=>{f(()=>{i&&(i.value=!1),v||L()})});d===u&&(l.value=m)}catch(m){c(m)}finally{i&&d===u&&(i.value=!1),v=!0}}),n?M(()=>(o.value=!0,l.value)):l}function z(r){var t;const e=p(r);return(t=e==null?void 0:e.$el)!=null?t:e}const y=W?window:void 0;function C(...r){let t,e,s,n;if(typeof r[0]=="string"||Array.isArray(r[0])?([e,s,n]=r,t=y):[t,e,s,n]=r,!t)return E;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const i=[],a=()=>{i.forEach(u=>u()),i.length=0},c=(u,f,d,v)=>(u.addEventListener(f,d,v),()=>u.removeEventListener(f,d,v)),o=g(()=>[z(t),p(n)],([u,f])=>{if(a(),!u)return;const d=b(f)?{...f}:f;i.push(...e.flatMap(v=>s.map(m=>c(u,v,m,d))))},{immediate:!0,flush:"post"}),l=()=>{o(),a()};return w(l),l}function F(){const r=h(!1);return O()&&T(()=>{r.value=!0}),r}function H(r){const t=F();return M(()=>(t.value,!!r()))}function P(r,t={}){const{window:e=y}=t,s=H(()=>e&&"matchMedia"in e&&typeof e.matchMedia=="function");let n;const i=h(!1),a=l=>{i.value=l.matches},c=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",a):n.removeListener(a))},o=I(()=>{s.value&&(c(),n=e.matchMedia(p(r)),"addEventListener"in n?n.addEventListener("change",a):n.addListener(a),i.value=n.matches)});return w(()=>{o(),c(),n=void 0}),i}function B(r={}){const{window:t=y,initialWidth:e=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:i=!0}=r,a=h(e),c=h(s),o=()=>{t&&(i?(a.value=t.innerWidth,c.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(o(),A(o),C("resize",o,{passive:!0}),n){const l=P("(orientation: portrait)");g(l,()=>o())}return{width:a,height:c}}export{B as a,x as c,z as u};
