import{_ as v}from"./ModalWarning.vue.51e14e47.js";import{u as g}from"./useSorting.9908e62e.js";import{g as C,f as p,e as _,n as h}from"./entry.14287089.js";import{a as n,k as y,F as w,G as S,H as M,V as k}from"./swiper-vue.7d7207a4.js";const x=C("clientsStore",()=>{const c=n([]),s=n(1),o=n(""),a=n(1),l=n(""),i=n(!1),u=e=>{g(e,i,l,t)};function f(e){o.value=e,t()}function r(e){if(e===0)return!1;s.value=e,t()}function t(){p(`${_()}/clients`,{body:{page:s.value,per_page:10,keyword:o.value,sort_by:l.value,reverse_sort:i.value}}).then(e=>{c.value=e.clients,a.value=e.total_pages}).catch(e=>{console.error(e)})}function d(e){return p(`${_()}/delete_client`,{body:{client_id:e}}).then(async m=>m.message==="Client deleted successfully"?(await t(),m.message):!1)}return{clients:c,fetchClients:t,deleteClient:d,setPage:r,searchClients:f,page:s,keyWord:o,endPage:a,setSorting:u,sorting:l,reverseSorting:i}}),F=y({__name:"RemoveClient",props:{clientId:{}},emits:["switchModal"],setup(c,{emit:s}){const o=c,a=s,l=x(),i=r=>l.deleteClient(r).then(t=>{t==="Client deleted successfully"&&h("/profile/clients")}),u=r=>{a("switchModal",!1)},f=async()=>{await i(o.clientId),a("switchModal",!1)};return(r,t)=>{const d=v;return w(),S(d,{onCloseModal:t[0]||(t[0]=e=>u()),onConfirm:f},{default:M(()=>[k("Ви впевнені, що хочете видалити клієнта?")]),_:1})}}});export{F as _,x as u};
