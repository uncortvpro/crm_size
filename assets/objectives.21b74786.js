import{_ as V,a as P,b as A}from"./ButtonOpacityDelete.b97fb66c.js";import{_ as N,u as M,a as F}from"./useDate.2eb2c116.js";import{f as k,o as r,j as x,c as $,a as h,t as I,g as E,w as e,b as t,d as o,l as b,F as U,v as B,k as D,n as S,D as L,i as g,B as R,A as q,q as y,s as H,m as W}from"./entry.a0142ef1.js";import{_ as z,a as G,c as J,d as K,e as Q}from"./Table.vue.9febdc4a.js";import{_ as X}from"./ButtonText.e873b0e6.js";import{_ as Y}from"./ProfilePage.vue.163c5b3f.js";import"./CrossInCircle.527d9560.js";import"./nuxt-icon.b4cdb491.js";import"./disposables.e43502a6.js";import"./ButtonOpacity.d5eb19ed.js";import"./Search.17416ded.js";import"./Edit.a6657ee7.js";import"./Delete.3503f55b.js";import"./Header2.8e05bf54.js";import"./Close.aa7dd460.js";import"./tw-merge.b150eb74.js";import"./ui.config.f134f843.js";import"./ThreeDots.4f61b54f.js";import"./ArrowTop.894930ca.js";import"./index.ea2b25d5.js";import"./index.842286eb.js";import"./ArrowRight.5eb99833.js";const Z=k({__name:"ModalObjectivesDetails",props:{objective:{}},setup(u){return(_,m)=>{const d=N;return r(),x(d,{label:"Деталі завдання"})}}}),ee={class:"w-[20px] h-[20px] md:w-[29px] md:h-[29px] bg-black rounded-[50%] flex justify-center items-center text-white text-[10px] md:text-[14px] font-semibold uppercase"},te=k({__name:"ParticipantItem",props:{letter:{}},setup(u){return(_,m)=>(r(),$("div",ee,[h("span",null,I(_.letter),1)]))}}),oe={class:"max-w-[200px] w-full inline-block truncate"},ne={class:"max-w-[200px] inline-block truncate"},se={class:"flex items-center gap-[5px]"},ae={class:"max-w-[120px] inline-block truncate"},ie={class:"flex items-center gap-[5px] md:gap-[25px]"},le=k({__name:"TableItemObjectives",props:{objective:{}},emits:["deleteAction","showDetails"],setup(u,{emit:_}){const m=u,d=_,p=()=>{d("showDetails",m.objective._id)};return E(),(n,v)=>{const i=z,w=X,l=te,j=G,O=F,C=V,c=P,T=J;return r(),x(T,null,{header:e(()=>{var a;return[h("span",oe,I((a=n.objective)==null?void 0:a.headline),1)]}),elements:e(({active:a})=>[t(i,{vIf:a},{title:e(()=>[o("Дата")]),value:e(()=>[o("Дата ")]),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Завдання")]),value:e(()=>[t(w,{class:"font-medium leading-[130%]"},{default:e(()=>{var s;return[h("span",ne,I((s=n.objective)==null?void 0:s.headline),1)]}),_:1})]),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Відповідальний")]),value:e(()=>{var s;return[o(I((s=n.objective)==null?void 0:s.responsible),1)]}),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Дедлайн")]),value:e(()=>{var s;return[o(I(("useDate"in n?n.useDate:b(M))((s=n.objective)==null?void 0:s.deadline)),1)]}),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Створив")]),value:e(()=>[o("Створив")]),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Учасники")]),value:e(()=>[h("div",se,[(r(!0),$(U,null,B(n.objective.participants,(s,f)=>(r(),x(l,{key:f,letter:s[0]},null,8,["letter"]))),128))])]),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Статус")]),value:e(()=>[t(j,null,{default:e(()=>[o("Статус")]),_:1})]),_:2},1032,["vIf"]),t(i,{vIf:a},{title:e(()=>[o("Коментар")]),value:e(()=>{var s;return[h("span",ae,I((s=n.objective)==null?void 0:s.comment),1)]}),_:2},1032,["vIf"])]),"additional-buttons":e(()=>[h("div",ie,[t(O,{onClick:D(p,["stop"])},null,8,["onClick"]),t(C,{class:"flex-shrink-0",onClick:v[0]||(v[0]=D(a=>("navigateTo"in n?n.navigateTo:b(S))("/profile/edit_client/"+n.objective._id),["stop"]))}),t(c,{class:"flex-shrink-0",onClick:v[1]||(v[1]=D(()=>{},["stop"]))})])]),_:1})}}}),ce=L("objectivesStore",()=>{const u=g([]),_=g(1),m=g(""),d=g(1);function p(){R(`${q()}/tasks`,{body:{page:_.value,per_page:10,keyword:m.value}}).then(n=>{console.log(n),u.value=n.tasks,d.value=n.total_pages}).catch(n=>{console.error(n)})}return{fetchObjectives:p,objectives:u}}),Ue=k({__name:"objectives",setup(u){const _=ce(),m=y(()=>_.objectives),d=()=>_.fetchObjectives(),p=g(!1),n=g(""),v=y(()=>m.value.find(l=>l._id===n.value)),i=l=>{n.value=l},w=l=>{i(l),p.value=!0};return d(),(l,j)=>{const O=A,C=Z,c=K,T=le,a=Q,s=Y;return r(),x(s,{title:"Задачі"},{content:e(()=>[t(O,{onAdd:j[0]||(j[0]=f=>("navigateTo"in l?l.navigateTo:b(S))("new_objectives"))},{add_name:e(()=>[o(" Додати завдання")]),_:1}),b(v)?(r(),x(C,{key:0,modelValue:b(p),"onUpdate:modelValue":j[1]||(j[1]=f=>H(p)?p.value=f:null),objective:b(v)},null,8,["modelValue","objective"])):W("",!0),t(a,null,{headers:e(()=>[t(c,null,{default:e(()=>[o("Дата")]),_:1}),t(c,null,{default:e(()=>[o("Завдання")]),_:1}),t(c,null,{default:e(()=>[o("Відповідальний")]),_:1}),t(c,null,{default:e(()=>[o("Дедлайн")]),_:1}),t(c,null,{default:e(()=>[o("Створив")]),_:1}),t(c,null,{default:e(()=>[o("Учасники")]),_:1}),t(c,null,{default:e(()=>[o("Статус")]),_:1}),t(c,null,{default:e(()=>[o("Коментар")]),_:1})]),items:e(()=>[(r(!0),$(U,null,B(b(m),f=>(r(),x(T,{key:f._id,objective:f,onShowDetails:w},null,8,["objective"]))),128))]),_:1})]),_:1})}}});export{Ue as default};
