import{_ as A}from"./disposables.c5f77ac8.js";import{_ as S}from"./AlertDanger.41b4b8e2.js";import{_ as U}from"./AlertSuccess.a53bbbe6.js";import{_ as B,a as D}from"./useDateToString.60620365.js";import{_ as w}from"./ProfilePage.vue.4b88ce31.js";import{f as N,i as r,h as V,o as i,j as c,w as n,b as m,d as p,l as o,t as _,m as f,a as F,z as I,A as P}from"./entry.b22a8ab3.js";import"./ButtonOpacity.d72ea513.js";import"./useFormGroup.99024774.js";import"./index.3a8df508.js";import"./Header2.b9fe70ca.js";import"./DivBorderBg.3e832f6e.js";import"./tw-merge.697a18e2.js";import"./ui.config.3c363c2b.js";import"./index.3760395d.js";import"./Calendar.f3c9ecc3.js";import"./nuxt-icon.e66fe507.js";import"./nuxt-link.0fe9cd25.js";import"./Photo.e2d0bb25.js";import"./User.2b7b0ea5.js";const T={class:"flex justify-center"},ae=N({__name:"new_client",setup($){const t=r({}),u=r();V();const s=r(""),l=r(""),h=()=>{const a=localStorage.getItem("token"),e=new FormData;e.append("additional_phone",t.value.additional_phone),e.append("email",t.value.email),e.append("gender",t.value.gender),e.append("birthday",D(t.value.birthday)),e.append("instagram",t.value.instagram),e.append("telegram",t.value.telegram),e.append("comment",t.value.comment),e.append("status",t.value.status),e.append("userpic",t.value.userpic),e.append("phone",t.value.phone),e.append("name",t.value.name),e.append("access_token",a||""),u.value=e},v=(a,e)=>{t.value[e]=a},g=a=>{if(a==="Client already exists")return s.value="Клієнт вже існує",!1;if(a==="Client created successfully")return l.value="Клієнта успішно створено",t.value={},!1;s.value="Щось не вийшло!"},y=()=>{h(),I(`${P()}/add_client`,{method:"POST",body:u.value}).then(a=>{g(a.message)}).catch(a=>{console.log(a)})};return(a,e)=>{const d=A,k=S,x=U,C=B,b=w;return i(),c(b,{title:"Додати клієнта"},{header:n(()=>[m(d,{onClick:y,class:"hidden lg:block"},{default:n(()=>[p(" Створити ")]),_:1})]),content:n(()=>[o(s)?(i(),c(k,{key:0},{default:n(()=>[p(_(o(s)),1)]),_:1})):f("",!0),o(l)?(i(),c(x,{key:1},{default:n(()=>[p(_(o(l)),1)]),_:1})):f("",!0),m(C,{inputs:o(t),labelStatus:"Статус клієнта:",onUpdateInputs:v},null,8,["inputs"]),F("div",T,[m(d,{disabled:"",class:"lg:hidden"},{default:n(()=>[p(" Створити ")]),_:1})])]),_:1})}}});export{ae as default};
