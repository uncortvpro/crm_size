import{t as A,i as W,n as E,a as N,b as p,c as w}from"./index.26be5fbd.js";import{i as h,y as g,a0 as I,s as S,ad as b,q as M,ay as O,G as T}from"./entry.051a0c6d.js";function B(r,t,e){let a;S(e)?a={evaluating:e}:a=e||{};const{lazy:n=!1,evaluating:i=void 0,shallow:s=!0,onError:c=E}=a,o=h(!n),l=s?b(t):h(t);let u=0;return I(async f=>{if(!o.value)return;u++;const d=u;let v=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const m=await r(L=>{f(()=>{i&&(i.value=!1),v||L()})});d===u&&(l.value=m)}catch(m){c(m)}finally{i&&d===u&&(i.value=!1),v=!0}}),n?M(()=>(o.value=!0,l.value)):l}function z(r){var t;const e=p(r);return(t=e==null?void 0:e.$el)!=null?t:e}const y=W?window:void 0;function C(...r){let t,e,a,n;if(typeof r[0]=="string"||Array.isArray(r[0])?([e,a,n]=r,t=y):[t,e,a,n]=r,!t)return E;Array.isArray(e)||(e=[e]),Array.isArray(a)||(a=[a]);const i=[],s=()=>{i.forEach(u=>u()),i.length=0},c=(u,f,d,v)=>(u.addEventListener(f,d,v),()=>u.removeEventListener(f,d,v)),o=g(()=>[z(t),p(n)],([u,f])=>{if(s(),!u)return;const d=N(f)?{...f}:f;i.push(...e.flatMap(v=>a.map(m=>c(u,v,m,d))))},{immediate:!0,flush:"post"}),l=()=>{o(),s()};return w(l),l}function F(){const r=h(!1);return O()&&T(()=>{r.value=!0}),r}function H(r){const t=F();return M(()=>(t.value,!!r()))}function P(r,t={}){const{window:e=y}=t,a=H(()=>e&&"matchMedia"in e&&typeof e.matchMedia=="function");let n;const i=h(!1),s=l=>{i.value=l.matches},c=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",s):n.removeListener(s))},o=I(()=>{a.value&&(c(),n=e.matchMedia(p(r)),"addEventListener"in n?n.addEventListener("change",s):n.addListener(s),i.value=n.matches)});return w(()=>{o(),c(),n=void 0}),i}function Q(r={}){const{window:t=y,initialWidth:e=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:i=!0}=r,s=h(e),c=h(a),o=()=>{t&&(i?(s.value=t.innerWidth,c.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(o(),A(o),C("resize",o,{passive:!0}),n){const l=P("(orientation: portrait)");g(l,()=>o())}return{width:s,height:c}}export{Q as a,B as c,z as u};
