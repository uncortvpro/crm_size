import{_ as D,a as Q}from"./ModalTitle.vue.ad05d48d.js";import{_ as R}from"./LabelProfile.vue.c7348741.js";import{a as Z}from"./SelectProfile.vue.ef6af844.js";import{_ as z}from"./AlertDanger.c5cbbe4f.js";import{_ as N}from"./ButtonOpacityBorder.503958f2.js";import{c as $,d as B}from"./entry.9837a20a.js";import{k as j,a as f,F as u,G as b,H as i,R as U,I as o,u as e,V,U as k,Z as C,l as q,Q as E,_ as O,a0 as F,a1 as G,f as w}from"./swiper-vue.df2f0745.js";import{_ as J}from"./Button.vue.38cd8abf.js";import{c as S}from"./cn.a642df04.js";import{_ as K}from"./ButtonOpacityBorderAddItem.f3aa5c64.js";import{_ as W}from"./TextareaProfile.vue.9ff30fe5.js";import{_ as X}from"./DivBorderBg.c839b7ad.js";import{_ as Y}from"./ProfilePage.vue.91b7bb0f.js";import"./Header2.0df1f0de.js";import"./Modal.vue.24fa8f69.js";import"./ui.config.ed65c54b.js";import"./nuxt-link.21791279.js";import"./tw-merge.82eb27f5.js";import"./index.14c8fbbe.js";import"./index.7fa93687.js";import"./useFormGroup.429088e7.js";import"./TextPrimary.597a46d7.js";import"./ButtonOpacity.8fd52cb5.js";import"./CrossInCircle.a0bf07aa.js";import"./nuxt-icon.91f9f1b8.js";import"./ArrowRight.63b5977e.js";const ee={class:"flex flex-col mt-[7px] md:mt-[10px] xl:mt-[13px]"},te={class:"flex items-center gap-[15px]"},le={class:"flex items-center gap-[15px]"},ae=j({__name:"MailingModalAddingRecipients",props:{mailingEmails:{},typeMessage:{}},emits:["update:mailingEmails","switcherModal"],setup(M,{emit:g}){const m=M,p=g,d=s=>{p("update:mailingEmails",s)},_=f([]),t=f(""),l=f({category:"",min_price:"",max_price:"",min_total_price:"",min_max_price:""}),v=()=>{$(`${B()}/get_category`).then(s=>{_.value=s.categories})},c=()=>{const s={category:l.value.category};return l.value.min_max_price&&Object.assign(s,{min_max_price:+l.value.min_max_price}),l.value.min_total_price&&Object.assign(s,{min_total_price:+l.value.min_total_price}),l.value.min_price&&Object.assign(s,{min_price:+l.value.min_price}),l.value.max_price&&Object.assign(s,{max_price:+l.value.max_price}),s},n=()=>{$(`${B()}/new_mailing_list`,{body:c()}).then(s=>{if(s.emails.length===0)return t.value="Нічого не знайдено!",!1;d(s.emails),t.value="",p("switcherModal",!1)})},h=()=>{$(`${B()}/new_telegram_list`,{body:c()}).then(s=>{if(console.log(s),s.tgIDs.length===0)return t.value="Нічого не знайдено!",!1;d(s.tgIDs),t.value="",p("switcherModal",!1)})},A=()=>{if(!l.value.category)return!1;m.typeMessage==="mail"&&n(),m.typeMessage==="telegram"&&h()};return v(),(s,r)=>{const y=D,x=R,L=Z,P=z,T=N,I=Q;return u(),b(I,{title:"Отримувачі",ui:{width:"!max-w-[480px]"}},{default:i(()=>[U("div",ee,[o(x,{label:"Ціна товару:",class:""},{default:i(()=>[U("div",te,[o(x,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"від"},{default:i(()=>[o(y,{modelValue:e(l).min_price,"onUpdate:modelValue":r[0]||(r[0]=a=>e(l).min_price=a),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1}),o(x,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"до"},{default:i(()=>[o(y,{type:"number",modelValue:e(l).max_price,"onUpdate:modelValue":r[1]||(r[1]=a=>e(l).max_price=a),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),o(x,{class:"mt-[15px] xl:mt-[20px]",label:"Загальна вартість замовлення:"},{default:i(()=>[U("div",le,[o(x,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"від"},{default:i(()=>[o(y,{type:"number",modelValue:e(l).min_total_price,"onUpdate:modelValue":r[2]||(r[2]=a=>e(l).min_total_price=a),class:"w-full"},null,8,["modelValue"])]),_:1}),o(x,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"до"},{default:i(()=>[o(y,{type:"number",modelValue:e(l).min_max_price,"onUpdate:modelValue":r[3]||(r[3]=a=>e(l).min_max_price=a),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),o(x,{class:"mt-[15px] xl:mt-[20px]",label:"Категорія товару:"},{default:i(()=>[o(L,{modelValue:e(l).category,"onUpdate:modelValue":r[4]||(r[4]=a=>e(l).category=a),valueSelect:e(l).category,options:e(_),class:"lg:max-w-[320px]"},null,8,["modelValue","valueSelect","options"])]),_:1}),e(t)?(u(),b(P,{key:0},{default:i(()=>[V(k(e(t)),1)]),_:1})):C("",!0),o(T,{disabled:!e(l).category,onClick:A,class:"mt-[35px] self-center xl:mt-[45px]"},{default:i(()=>[V("Зберегти")]),_:1},8,["disabled"])])]),_:1})}}}),oe=j({__name:"Switcher",props:{options:{},modelValue:{},error:{type:Boolean}},emits:["update:modelValue"],setup(M,{emit:g}){const m=M,p=g,d=t=>{p("update:modelValue",t)},_=q(()=>m.options.find(t=>t.id===m.modelValue));return(t,l)=>{var c;const v=J;return u(),E("div",{class:O(("cn"in t?t.cn:e(S))("relative flex w-fit overflow-hidden rounded-[3px] border border-black md:rounded-[7px] xl:rounded-[5px]",{"!border-status_red":t.error}))},[U("span",{class:O(("cn"in t?t.cn:e(S))("absolute top-0 h-full text_xs z-10 px-[9px] text-transparent py-[5px] text-black md:px-[10px]  xl:px-[12px] rounded-[2px] bg-black duration-200 md:rounded-[5px] xl:rounded-[3px]",{"right-0":t.modelValue===t.options[1].id}))},k((c=e(_))==null?void 0:c.title),3),(u(!0),E(F,null,G(t.options,n=>(u(),b(v,{key:n.id,class:O(("cn"in t?t.cn:e(S))("text_xs relative z-10 px-[9px] py-[5px] text-black md:px-[10px] md:py-[8px] xl:px-[12px] xl:py-[10px]",{"text-white":t.modelValue===n.id})),onClick:h=>d(n.id)},{default:i(()=>[V(k(n.title),1)]),_:2},1032,["class","onClick"]))),128))],2)}}}),ne={class:"bg-beige h-[195px] overflow-auto scroll_bar xl:h-[170px] sm:max-w-[350px] rounded-[3px] text-[9px] md:text-[12px] no_scroll_bar resize-none focus:outline-none p-[10px]"},Le=j({__name:"mailing_list",setup(M){const g=f(!1),m=f([]),p=f("telegram"),d=f(""),_=f(""),t=f(""),l=()=>{if(m.value.length===0)return t.value="Додайте отримувачів!",!1;const c={type:p.value,text:_.value,recipients:m.value};p.value==="mail"&&Object.assign(c,{subject:d.value}),$(`${B()}/send_mailing`,{body:c}).then(n=>{t.value=""})},v=c=>{g.value=c};return(c,n)=>{const h=ae,A=oe,s=K,r=R,y=D,x=W,L=z,P=N,T=X,I=Y;return u(),b(I,{title:"Розсилка"},{content:i(()=>[o(h,{modelValue:e(g),"onUpdate:modelValue":n[0]||(n[0]=a=>w(g)?g.value=a:null),mailingEmails:e(m),"onUpdate:mailingEmails":n[1]||(n[1]=a=>w(m)?m.value=a:null),typeMessage:e(p),onSwitcherModal:v},null,8,["modelValue","mailingEmails","typeMessage"]),o(A,{modelValue:e(p),"onUpdate:modelValue":n[2]||(n[2]=a=>w(p)?p.value=a:null),options:[{id:"telegram",title:"Telegram"},{id:"mail",title:"Email"}]},null,8,["modelValue"]),o(T,{class:"max-w-[830px] mt-[10px] xl:mt-[40px] flex flex-col"},{default:i(()=>[o(s,{onClick:n[3]||(n[3]=a=>v(!0)),class:"flex-shrink-0 self-start mb-[15px] xl:mb-[20px]"},{default:i(()=>[V("Додати отримувачів")]),_:1}),e(m).length>0?(u(),b(r,{key:0,class:"",label:"Отримувачі:"},{default:i(()=>[U("div",ne,[(u(!0),E(F,null,G(e(m),(a,H)=>(u(),E("p",{key:H,class:"text-black text-[9px] leading-[150%] md:text-[10px] xl:text-[12px]"},k(a),1))),128))])]),_:1})):C("",!0),e(p)!=="telegram"?(u(),b(r,{key:1,class:"mt-[15px] xl:mt-[20px]",label:"Тема повідомлення:"},{default:i(()=>[o(y,{modelValue:e(d),"onUpdate:modelValue":n[4]||(n[4]=a=>w(d)?d.value=a:null),class:"sm:max-w-[350px] w-full"},null,8,["modelValue"])]),_:1})):C("",!0),o(r,{class:"mt-[15px] xl:mt-[20px]",label:"Текст повідомлення:"},{default:i(()=>[o(x,{modelValue:e(_),"onUpdate:modelValue":n[5]||(n[5]=a=>w(_)?_.value=a:null),class:"h-[110px] xl:h-[170px]"},null,8,["modelValue"])]),_:1}),e(t)?(u(),b(L,{key:2},{default:i(()=>[V(k(e(t)),1)]),_:1})):C("",!0),o(P,{onClick:l,class:"mt-[35px] self-center lg:self-start"},{default:i(()=>[V("Надіслати")]),_:1})]),_:1})]),_:1})}}});export{Le as default};
