import{_ as q}from"./ModalWarning.vue.63971df5.js";import{_ as z,a as J}from"./ButtonOpacityEdit.18371b59.js";import{_ as K}from"./ModalOrderDetails.vue.18890ba4.js";import{_ as X}from"./ButtonSortingTable.vue.59ace6b0.js";import{a as ee,b as oe,c as te}from"./Table.vue.048cbff3.js";import{_ as ne}from"./TransitionTableCell.vue.ce511523.js";import{_ as se}from"./CurrencyText.84b4e272.js";import{_ as re}from"./StatusOutput.vue.d8f5df7c.js";import{_ as ae}from"./ButtonOpacityThreeDots.e7b81c91.js";import{_ as le}from"./ButtonOpacityDelete.f051109e.js";import{k as F,F as C,G as I,H as e,R as P,U as _,u as r,I as t,V as a,Y as h,l as v,a as B,f as R,Z as x,Q as ie,a3 as me,a2 as de}from"./swiper-vue.7d7207a4.js";import{a as pe,n as H}from"./entry.1ece7de6.js";import{u as E}from"./useDate.7255fb09.js";import{_ as ue}from"./ProfilePage.vue.fb5ff74a.js";import{u as _e}from"./ordersStore.7c3bdcde.js";import"./ButtonOpacityBorder.a8320009.js";import"./ButtonOpacity.36bd00f9.js";import"./Button.vue.2d6eab8e.js";import"./nuxt-link.c6d28d06.js";import"./Modal.vue.4fd597f3.js";import"./ui.config.c588cbc6.js";import"./ButtonOpacityBorderAddItem.bdcb7f2a.js";import"./CrossInCircle.b99fd802.js";import"./nuxt-icon.aa89098f.js";import"./SearchBorder.vue.eafce9f0.js";import"./Search.9cd6c473.js";import"./cn.a642df04.js";import"./Edit.1658ed1c.js";import"./useBase64.1efa7b71.js";import"./ArrowRight.2feefc93.js";import"./ButtonText.066757d6.js";import"./ArrowTop.d41427af.js";import"./index.502b48fe.js";import"./index.1876d4a2.js";import"./Header2.5a29f5db.js";import"./Close.f7c9a0ad.js";import"./tw-merge.8bcd16fa.js";import"./ThreeDots.f5d520a1.js";import"./Delete.1a6fcd68.js";import"./useSorting.9908e62e.js";const ce={class:"max-w-[200px] w-full inline-block truncate"},fe={class:"font-medium leading-[130%] max-w-[200px] inline-block truncate"},ge={class:"flex items-center gap-[5px] md:gap-[25px]"},ve=F({__name:"TableItemOrders",props:{order:{}},emits:["deleteAction","showDetails"],setup(M,{emit:m}){const D=M,T=m,$=()=>{T("showDetails",D.order._id)},c=()=>{T("deleteAction",D.order._id)};return pe(),(n,u)=>{const p=ne,b=se,U=re,y=ae,S=z,f=le,V=ee;return C(),I(V,null,{header:e(()=>{var l;return[P("span",ce,_(("useDate"in n?n.useDate:r(E))((l=n.order)==null?void 0:l.date)),1)]}),elements:e(({active:l})=>[t(p,{vIf:l},{title:e(()=>[a("Дата")]),value:e(()=>{var o;return[P("span",fe,_(("useDate"in n?n.useDate:r(E))((o=n.order)==null?void 0:o.date)),1)]}),_:2},1032,["vIf"]),t(p,{vIf:l},{title:e(()=>[a("Клієнт")]),value:e(()=>{var o;return[a(_((o=n.order)==null?void 0:o.client),1)]}),_:2},1032,["vIf"]),t(p,{vIf:l},{title:e(()=>[a("Сума замовлення")]),value:e(()=>{var o;return[a(_((o=n.order)==null?void 0:o.total_sum),1),t(b)]}),_:2},1032,["vIf"]),t(p,{vIf:l},{title:e(()=>[a("Джерело замовлення")]),value:e(()=>{var o;return[a(_((o=n.order)==null?void 0:o.source),1)]}),_:2},1032,["vIf"]),t(p,{vIf:l},{title:e(()=>[a("Статус")]),value:e(()=>{var o,O;return[t(U,{color:(O=(o=n.order)==null?void 0:o.status)==null?void 0:O.colour},{default:e(()=>{var k,w;return[a(_((w=(k=n.order)==null?void 0:k.status)==null?void 0:w.status),1)]}),_:1},8,["color"])]}),_:2},1032,["vIf"]),t(p,{vIf:l},{title:e(()=>[a("Оплата")]),value:e(()=>{var o;return[a(_((o=n.order)==null?void 0:o.payment),1)]}),_:2},1032,["vIf"])]),"additional-buttons":e(()=>[P("div",ge,[t(y,{onClick:h($,["stop"])},null,8,["onClick"]),t(S,{class:"flex-shrink-0",onClick:u[0]||(u[0]=h(l=>("navigateTo"in n?n.navigateTo:r(H))("/profile/edit_order/"+n.order._id),["stop"]))}),t(f,{class:"flex-shrink-0",onClick:h(c,["stop"])},null,8,["onClick"])])]),_:1})}}}),so=F({__name:"my_orders",setup(M){const m=_e(),D=v(()=>m.orders),T=()=>m.fetchOrders(),$=s=>m.searchOrders(s),c=B(""),n=v(()=>m.sorting),u=v(()=>m.reverseSorting),p=s=>{m.setSorting(s)},b=v(()=>m.page),U=v(()=>m.endPage),y=s=>m.setPage(s),S=async()=>{m.deleteOrder(c.value),l(!1)},f=B(!1),V=s=>{k(s),l(!0)},l=s=>{f.value=s},o=B(!1),O=v(()=>D.value.find(s=>s._id===c.value)),k=s=>{c.value=s},w=s=>{o.value=s},L=s=>{k(s),w(!0)};return T(),(s,i)=>{const G=q,Q=J,W=K,A=X,g=oe,Y=ve,Z=te,j=ue;return C(),I(j,{title:"Мої замовлення"},{content:e(()=>{var N;return[r(c)?(C(),I(G,{key:0,modelValue:r(f),"onUpdate:modelValue":i[0]||(i[0]=d=>R(f)?f.value=d:null),onCloseModal:i[1]||(i[1]=d=>l(!1)),onConfirm:S},{default:e(()=>[a("Ви впевнені, що хочете видалити завдання?")]),_:1},8,["modelValue"])):x("",!0),t(Q,{onSearch:$,onAdd:i[2]||(i[2]=d=>("navigateTo"in s?s.navigateTo:r(H))("new_order"))},{add_name:e(()=>[a(" Додати замовлення")]),_:1}),r(O)?(C(),I(W,{key:1,modelValue:r(o),"onUpdate:modelValue":i[3]||(i[3]=d=>R(o)?o.value=d:null),onCloseModal:i[4]||(i[4]=d=>w(!1)),label:"Деталі замовлення",products:(N=r(O))==null?void 0:N.variations},null,8,["modelValue","products"])):x("",!0),t(Z,{pageTable:r(b),endPage:r(U),onSetPage:y},{headers:e(()=>[t(g,null,{default:e(()=>[t(A,{sortingUp:r(n)==="date"&&r(u),sortingDown:r(n)==="date"&&!r(u),onClick:i[5]||(i[5]=d=>p("date")),class:"!font-normal"},{default:e(()=>[a(" Дата замовлення")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),t(g,null,{default:e(()=>[a("Клієнт")]),_:1}),t(g,null,{default:e(()=>[t(A,{sortingUp:r(n)==="total_sum"&&r(u),sortingDown:r(n)==="total_sum"&&!r(u),onClick:i[6]||(i[6]=d=>p("total_sum")),class:"!font-normal"},{default:e(()=>[a(" Сума замовлення")]),_:1},8,["sortingUp","sortingDown"])]),_:1}),t(g,null,{default:e(()=>[a("Джерело замовлення")]),_:1}),t(g,null,{default:e(()=>[a("Статус")]),_:1}),t(g,null,{default:e(()=>[a("Оплата")]),_:1})]),items:e(()=>[(C(!0),ie(de,null,me(r(D),d=>(C(),I(Y,{key:d._id,order:d,onShowDetails:L,onDeleteAction:V},null,8,["order"]))),128))]),_:1},8,["pageTable","endPage"])]}),_:1})}}});export{so as default};
