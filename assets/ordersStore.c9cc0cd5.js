import{u as _}from"./useSorting.9908e62e.js";import{g as P,c as a,d as c}from"./entry.9837a20a.js";import{a as r}from"./swiper-vue.df2f0745.js";const $=P("ordersStore",()=>{const u=r([]),t=r(1),d=r(""),i=r(1),l=r([]),f=r("");function p(e){f.value=e,y()}const s=r(""),n=r(!1),v=e=>{_(e,n,s,o)};function g(e){if(e===0)return!1;t.value=e,o()}function h(e){a(`${c()}/delete_order`,{body:{order_id:e}}).then(S=>{S.message===!0&&o()})}function m(e){d.value=e,o()}function o(){a(`${c()}/orders`,{body:{page:t.value,per_page:10,keyword:d.value,sort_by:s.value,reverse_sort:n.value}}).then(e=>{u.value=e.orders,i.value=e.total_pages}).catch(e=>{console.error(e)})}async function y(){const e=await a(`${c()}/products`,{body:{keyword:f.value}});l.value=e.products}return{fetchOrders:o,addingProducts:l,searchProducts:p,orders:u,searchOrders:m,setPage:g,deleteOrder:h,page:t,endPage:i,sorting:s,reverseSorting:n,setSorting:v}});export{$ as u};
