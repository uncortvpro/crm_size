import{_ as D,a as Q}from"./ModalTitle.vue.8233f3cd.js";import{_ as R}from"./LabelProfile.vue.c3c4d9f5.js";import{a as Z}from"./SelectProfile.vue.15297bd9.js";import{_ as z}from"./AlertDanger.eef97e93.js";import{_ as N}from"./ButtonOpacityBorder.8c61253b.js";import{f as B,e as C}from"./entry.78ac9c02.js";import{k as I,a as g,F as u,G as y,H as o,R as k,I as a,u as e,V as w,U as M,Z as E,l as q,Q as A,_ as S,a2 as F,a3 as G,f as U}from"./swiper-vue.7d7207a4.js";import{_ as J}from"./Button.vue.143bd70c.js";import{c as j}from"./cn.a642df04.js";import{_ as K}from"./ButtonOpacityBorderAddItem.e27faedd.js";import{_ as W}from"./TextareaProfile.vue.42abf356.js";import{_ as X}from"./DivBorderBg.a354b1c6.js";import{_ as Y}from"./ProfilePage.vue.40cb99af.js";import"./Header2.4c8260c7.js";import"./Modal.vue.67ff06a9.js";import"./ui.config.4a492472.js";import"./nuxt-link.6689fda5.js";import"./tw-merge.b4d73923.js";import"./index.502b48fe.js";import"./index.1876d4a2.js";import"./useFormGroup.36eda7f7.js";import"./TextPrimary.c4c19a44.js";import"./ButtonOpacity.44f89064.js";import"./CrossInCircle.81204986.js";import"./nuxt-icon.4a974f23.js";import"./ArrowRight.a0aa697a.js";const ee={class:"flex flex-col mt-[7px] md:mt-[10px] xl:mt-[13px]"},te={class:"flex items-center gap-[15px]"},le={class:"flex items-center gap-[15px]"},ae=I({__name:"MailingModalAddingRecipients",props:{mailingEmails:{},typeMessage:{}},emits:["update:mailingEmails","switcherModal"],setup(h,{emit:b}){const m=h,r=b,_=i=>{r("update:mailingEmails",i)},x=g([]),l=g(""),t=g({category:"",min_price:"",max_price:"",min_total_price:"",min_max_price:""}),V=()=>{B(`${C()}/get_category`).then(i=>{x.value=i.categories})},d=()=>{const i={category:t.value.category};t.value.min_max_price&&Object.assign(i,{min_max_price:+t.value.min_max_price}),t.value.min_total_price&&Object.assign(i,{min_total_price:+t.value.min_total_price}),t.value.min_price&&Object.assign(i,{min_price:+t.value.min_price}),t.value.max_price&&Object.assign(i,{max_price:+t.value.max_price}),B(`${C()}/new_mailing_list`,{body:i}).then(s=>{if(s.emails.length===0)return l.value="Нічого не знайдено!",!1;_(s.emails),r("switcherModal",!1)})},n=()=>{B(`${C()}/new_telegram_list`,{body:{category:t.value.category,min_max_price:+t.value.min_max_price,min_total_price:+t.value.min_total_price,min_price:+t.value.min_price,max_price:+t.value.max_price}}).then(i=>{if(console.log(i),i.tgIDs.length===0)return l.value="Нічого не знайдено!",!1;_(i.tgIDs),r("switcherModal",!1)})},$=()=>{m.typeMessage==="mail"&&d(),m.typeMessage==="telegram"&&n()};return V(),(i,s)=>{const v=D,f=R,L=Z,P=z,T=N,O=Q;return u(),y(O,{title:"Отримувачі",ui:{width:"!max-w-[480px]"}},{default:o(()=>[k("div",ee,[a(f,{label:"Ціна товару:",class:""},{default:o(()=>[k("div",te,[a(f,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"від"},{default:o(()=>[a(v,{modelValue:e(t).min_price,"onUpdate:modelValue":s[0]||(s[0]=c=>e(t).min_price=c),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1}),a(f,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"до"},{default:o(()=>[a(v,{type:"number",modelValue:e(t).max_price,"onUpdate:modelValue":s[1]||(s[1]=c=>e(t).max_price=c),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),a(f,{class:"mt-[15px] xl:mt-[20px]",label:"Загальна вартість замовлення:"},{default:o(()=>[k("div",le,[a(f,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"від"},{default:o(()=>[a(v,{type:"number",modelValue:e(t).min_total_price,"onUpdate:modelValue":s[2]||(s[2]=c=>e(t).min_total_price=c),class:"w-full"},null,8,["modelValue"])]),_:1}),a(f,{noLabelTruncate:"",class:"!flex-row flex-1 items-center !gap-[10px]",label:"до"},{default:o(()=>[a(v,{type:"number",modelValue:e(t).min_max_price,"onUpdate:modelValue":s[3]||(s[3]=c=>e(t).min_max_price=c),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),a(f,{class:"mt-[15px] xl:mt-[20px]",label:"Категорія товару:"},{default:o(()=>[a(L,{modelValue:e(t).category,"onUpdate:modelValue":s[4]||(s[4]=c=>e(t).category=c),valueSelect:e(t).category,options:e(x),class:"lg:max-w-[320px]"},null,8,["modelValue","valueSelect","options"])]),_:1}),e(l)?(u(),y(P,{key:0},{default:o(()=>[w(M(e(l)),1)]),_:1})):E("",!0),a(T,{onClick:$,class:"mt-[35px] self-center xl:mt-[45px]"},{default:o(()=>[w("Зберегти")]),_:1})])]),_:1})}}}),ne=I({__name:"Switcher",props:{options:{},modelValue:{},error:{type:Boolean}},emits:["update:modelValue"],setup(h,{emit:b}){const m=h,r=b,_=l=>{r("update:modelValue",l)},x=q(()=>m.options.find(l=>l.id===m.modelValue));return(l,t)=>{var d;const V=J;return u(),A("div",{class:S(("cn"in l?l.cn:e(j))("relative flex w-fit overflow-hidden rounded-[3px] border border-black md:rounded-[7px] xl:rounded-[5px]",{"!border-status_red":l.error}))},[k("span",{class:S(("cn"in l?l.cn:e(j))("absolute top-0 h-full text_xs z-10 px-[9px] text-transparent py-[5px] text-black md:px-[10px]  xl:px-[12px] rounded-[2px] bg-black duration-200 md:rounded-[5px] xl:rounded-[3px]",{"right-0":l.modelValue===l.options[1].id}))},M((d=e(x))==null?void 0:d.title),3),(u(!0),A(F,null,G(l.options,n=>(u(),y(V,{key:n.id,class:S(("cn"in l?l.cn:e(j))("text_xs relative z-10 px-[9px] py-[5px] text-black md:px-[10px] md:py-[8px] xl:px-[12px] xl:py-[10px]",{"text-white":l.modelValue===n.id})),onClick:$=>_(n.id)},{default:o(()=>[w(M(n.title),1)]),_:2},1032,["class","onClick"]))),128))],2)}}}),oe={class:"bg-beige h-[195px] overflow-auto scroll_bar xl:h-[170px] sm:max-w-[350px] rounded-[3px] text-[9px] md:text-[12px] no_scroll_bar resize-none focus:outline-none p-[10px]"},Le=I({__name:"mailing_list",setup(h){const b=g(!1),m=g([]),r=g("telegram"),_=g(""),x=g(""),l=g(""),t=()=>{if(m.value.length===0)return l.value="Додайте отримувачів!",!1;const d={type:r.value,text:x.value,recipients:m.value};r.value==="mail"&&Object.assign(d,{subject:_.value}),B(`${C()}/send_mailing`,{body:d}).then(n=>{l.value=""})},V=d=>{b.value=d};return(d,n)=>{const $=ae,i=ne,s=K,v=R,f=D,L=W,P=z,T=N,O=X,c=Y;return u(),y(c,{title:"Розсилка"},{content:o(()=>[a($,{modelValue:e(b),"onUpdate:modelValue":n[0]||(n[0]=p=>U(b)?b.value=p:null),mailingEmails:e(m),"onUpdate:mailingEmails":n[1]||(n[1]=p=>U(m)?m.value=p:null),typeMessage:e(r),onSwitcherModal:V},null,8,["modelValue","mailingEmails","typeMessage"]),a(i,{modelValue:e(r),"onUpdate:modelValue":n[2]||(n[2]=p=>U(r)?r.value=p:null),options:[{id:"telegram",title:"Telegram"},{id:"mail",title:"Email"}]},null,8,["modelValue"]),a(O,{class:"max-w-[830px] mt-[10px] xl:mt-[40px] flex flex-col"},{default:o(()=>[a(s,{onClick:n[3]||(n[3]=p=>V(!0)),class:"flex-shrink-0 self-start mb-[15px] xl:mb-[20px]"},{default:o(()=>[w("Додати отримувачів")]),_:1}),e(m).length>0?(u(),y(v,{key:0,class:"",label:"Отримувачі:"},{default:o(()=>[k("div",oe,[(u(!0),A(F,null,G(e(m),(p,H)=>(u(),A("p",{key:H,class:"text-black text-[9px] leading-[150%] md:text-[10px] xl:text-[12px]"},M(p),1))),128))])]),_:1})):E("",!0),e(r)!=="telegram"?(u(),y(v,{key:1,class:"mt-[15px] xl:mt-[20px]",label:"Тема повідомлення:"},{default:o(()=>[a(f,{modelValue:e(_),"onUpdate:modelValue":n[4]||(n[4]=p=>U(_)?_.value=p:null),class:"sm:max-w-[350px] w-full"},null,8,["modelValue"])]),_:1})):E("",!0),a(v,{class:"mt-[15px] xl:mt-[20px]",label:"Текст повідомлення:"},{default:o(()=>[a(L,{modelValue:e(x),"onUpdate:modelValue":n[5]||(n[5]=p=>U(x)?x.value=p:null),class:"h-[110px] xl:h-[170px]"},null,8,["modelValue"])]),_:1}),e(l)?(u(),y(P,{key:2},{default:o(()=>[w(M(e(l)),1)]),_:1})):E("",!0),a(T,{onClick:t,class:"mt-[35px] self-center lg:self-start"},{default:o(()=>[w("Надіслати")]),_:1})]),_:1})]),_:1})}}});export{Le as default};
