import{_ as g}from"./ModalWarning.vue.b8c90959.js";import{u as v}from"./useSorting.9414d803.js";import{g as C,f as p,e as _,n as h}from"./entry.a6c15489.js";import{a as n,k as y,F as w,G as S,H as M,V as k}from"./swiper-vue.36f73e51.js";const x=C("clientsStore",()=>{const r=n([]),s=n(1),o=n(""),a=n(1),l=n(""),i=n(!1),u=e=>{v(e,i,l,t)};function f(e){o.value=e,t()}function c(e){if(e===0)return!1;s.value=e,t()}function t(){p(`${_()}/clients`,{body:{page:s.value,per_page:10,keyword:o.value,sort_by:l.value,reverse_sort:i.value}}).then(e=>{r.value=e.clients,a.value=e.total_pages}).catch(e=>{console.error(e)})}function d(e){return console.log(e),p(`${_()}/delete_client`,{body:{client_id:e}}).then(async m=>m.message==="Client deleted successfully"?(await t(),m.message):!1)}return{clients:r,fetchClients:t,deleteClient:d,setPage:c,searchClients:f,page:s,keyWord:o,endPage:a,setSorting:u,sorting:l,reverseSorting:i}}),F=y({__name:"RemoveClient",props:{clientId:{}},emits:["switchModal"],setup(r,{emit:s}){const o=r,a=s,l=x(),i=c=>l.deleteClient(c).then(t=>{t==="Client deleted successfully"&&h("/profile/clients")}),u=c=>{a("switchModal",!1)},f=async()=>{await i(o.clientId),a("switchModal",!1)};return(c,t)=>{const d=g;return w(),S(d,{onCloseModal:t[0]||(t[0]=e=>u()),onConfirm:f},{default:M(()=>[k("Ви впевнені, що хочете видалити клієнта?")]),_:1})}}});export{F as _,x as u};
